\subsection{src/lifter.c File Reference}
\label{lifter_8c}\index{src/lifter.\+c@{src/lifter.\+c}}
{\ttfamily \#include \char`\"{}lifter.\+h\char`\"{}}\newline
Include dependency graph for lifter.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{lifter_8c__incl}
\end{center}
\end{figure}
\subsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
double \textbf{ get\+Lifter\+Height} ()
\begin{DoxyCompactList}\small\item\em Gets the height of the lifter in inches. \end{DoxyCompactList}\item 
int \textbf{ get\+Lifter\+Ticks} ()
\begin{DoxyCompactList}\small\item\em Gets the value of the lifter pot. \end{DoxyCompactList}\item 
float \textbf{ lifter\+Potentiometer\+To\+Degree} (int x)
\begin{DoxyCompactList}\small\item\em height of the lifter in degrees from 0 height \end{DoxyCompactList}\item 
void \textbf{ lower\+\_\+lifter} ()
\item 
void \textbf{ raise\+\_\+lifter} ()
\item 
void \textbf{ set\+\_\+lifter\+\_\+motors} (const int v)
\begin{DoxyCompactList}\small\item\em Sets the lifter motors to the given value. \end{DoxyCompactList}\item 
void \textbf{ set\+\_\+lifter\+\_\+pos} (int pos)
\begin{DoxyCompactList}\small\item\em Sets the lifter positions to the given value. \end{DoxyCompactList}\item 
void \textbf{ update\+\_\+lifter} ()
\begin{DoxyCompactList}\small\item\em Updates the lifter in teleop. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Function Documentation}
\mbox{\label{lifter_8c_a2719740958fd8a5926f88f6194e820e3}} 
\index{lifter.\+c@{lifter.\+c}!get\+Lifter\+Height@{get\+Lifter\+Height}}
\index{get\+Lifter\+Height@{get\+Lifter\+Height}!lifter.\+c@{lifter.\+c}}
\paragraph{get\+Lifter\+Height()}
{\footnotesize\ttfamily double get\+Lifter\+Height (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Gets the height of the lifter in inches. 

\begin{DoxyReturn}{Returns}
the height of the lifter. 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
9/17/2017 
\end{DoxyDate}


Definition at line \textbf{ 137} of file \textbf{ lifter.\+c}.



References \textbf{ get\+Lifter\+Ticks()}.


\begin{DoxyCode}
00137                          \{
00138   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ticks = getLifterTicks();
00139   \textcolor{keywordflow}{return} (-2 * pow(10, (-9 * ticks)) + 6 * (pow(10, (-6 * ticks * ticks))) + 0.0198 * ticks + 2.3033);
00140 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{lifter_8c_a2719740958fd8a5926f88f6194e820e3_cgraph}
\end{center}
\end{figure}
\mbox{\label{lifter_8c_acdf909159b0406c48099843f2306be78}} 
\index{lifter.\+c@{lifter.\+c}!get\+Lifter\+Ticks@{get\+Lifter\+Ticks}}
\index{get\+Lifter\+Ticks@{get\+Lifter\+Ticks}!lifter.\+c@{lifter.\+c}}
\paragraph{get\+Lifter\+Ticks()}
{\footnotesize\ttfamily int get\+Lifter\+Ticks (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Gets the value of the lifter pot. 

\begin{DoxyReturn}{Returns}
the value of the pot. 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
9/9/2017 
\end{DoxyDate}


Definition at line \textbf{ 126} of file \textbf{ lifter.\+c}.



References \textbf{ analog\+Read()}, and \textbf{ L\+I\+F\+T\+ER}.



Referenced by \textbf{ get\+Lifter\+Height()}, and \textbf{ update\+\_\+lifter()}.


\begin{DoxyCode}
00126                      \{
00127   \textcolor{keywordflow}{return} analogRead(LIFTER);
00128 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=261pt]{lifter_8c_acdf909159b0406c48099843f2306be78_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{lifter_8c_acdf909159b0406c48099843f2306be78_icgraph}
\end{center}
\end{figure}
\mbox{\label{lifter_8c_ab0460888f3213e5510bd25ae1e152a75}} 
\index{lifter.\+c@{lifter.\+c}!lifter\+Potentiometer\+To\+Degree@{lifter\+Potentiometer\+To\+Degree}}
\index{lifter\+Potentiometer\+To\+Degree@{lifter\+Potentiometer\+To\+Degree}!lifter.\+c@{lifter.\+c}}
\paragraph{lifter\+Potentiometer\+To\+Degree()}
{\footnotesize\ttfamily float lifter\+Potentiometer\+To\+Degree (\begin{DoxyParamCaption}\item[{int}]{x }\end{DoxyParamCaption})}



height of the lifter in degrees from 0 height 


\begin{DoxyParams}{Parameters}
{\em x} & the pot value \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the positions in degrees 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
10/13/2017 
\end{DoxyDate}


Definition at line \textbf{ 115} of file \textbf{ lifter.\+c}.



References \textbf{ D\+E\+G\+\_\+\+M\+AX}, \textbf{ I\+N\+I\+T\+\_\+\+R\+O\+T\+A\+T\+I\+ON}, and \textbf{ T\+I\+C\+K\+\_\+\+M\+AX}.


\begin{DoxyCode}
00115                                         \{
00116   \textcolor{keywordflow}{return} (x - INIT_ROTATION) / TICK_MAX * DEG_MAX;
00117 \}
\end{DoxyCode}
\mbox{\label{lifter_8c_aa7d2d04059f57cc5b8582f6fd0726dc1}} 
\index{lifter.\+c@{lifter.\+c}!lower\+\_\+lifter@{lower\+\_\+lifter}}
\index{lower\+\_\+lifter@{lower\+\_\+lifter}!lifter.\+c@{lifter.\+c}}
\paragraph{lower\+\_\+lifter()}
{\footnotesize\ttfamily void lower\+\_\+lifter (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line \textbf{ 30} of file \textbf{ lifter.\+c}.



References \textbf{ M\+I\+N\+\_\+\+S\+P\+E\+ED}, and \textbf{ set\+\_\+lifter\+\_\+motors()}.



Referenced by \textbf{ update\+\_\+lifter()}.


\begin{DoxyCode}
00030                    \{
00031   set_lifter_motors(MIN_SPEED);
00032 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{lifter_8c_aa7d2d04059f57cc5b8582f6fd0726dc1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{lifter_8c_aa7d2d04059f57cc5b8582f6fd0726dc1_icgraph}
\end{center}
\end{figure}
\mbox{\label{lifter_8c_a7452163ed7946b6262f41de51c62dfd4}} 
\index{lifter.\+c@{lifter.\+c}!raise\+\_\+lifter@{raise\+\_\+lifter}}
\index{raise\+\_\+lifter@{raise\+\_\+lifter}!lifter.\+c@{lifter.\+c}}
\paragraph{raise\+\_\+lifter()}
{\footnotesize\ttfamily void raise\+\_\+lifter (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line \textbf{ 26} of file \textbf{ lifter.\+c}.



References \textbf{ M\+A\+X\+\_\+\+S\+P\+E\+ED}, and \textbf{ set\+\_\+lifter\+\_\+motors()}.



Referenced by \textbf{ update\+\_\+lifter()}.


\begin{DoxyCode}
00026                    \{
00027   set_lifter_motors(MAX_SPEED);
00028 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{lifter_8c_a7452163ed7946b6262f41de51c62dfd4_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{lifter_8c_a7452163ed7946b6262f41de51c62dfd4_icgraph}
\end{center}
\end{figure}
\mbox{\label{lifter_8c_a2cfc188f60f945c824dd7fe7b0b5f4e4}} 
\index{lifter.\+c@{lifter.\+c}!set\+\_\+lifter\+\_\+motors@{set\+\_\+lifter\+\_\+motors}}
\index{set\+\_\+lifter\+\_\+motors@{set\+\_\+lifter\+\_\+motors}!lifter.\+c@{lifter.\+c}}
\paragraph{set\+\_\+lifter\+\_\+motors()}
{\footnotesize\ttfamily void set\+\_\+lifter\+\_\+motors (\begin{DoxyParamCaption}\item[{const int}]{v }\end{DoxyParamCaption})}



Sets the lifter motors to the given value. 


\begin{DoxyParams}{Parameters}
{\em v} & value for the lifter motor. Between -\/128 -\/ 127, any values outside are clamped. \\
\hline
\end{DoxyParams}
\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
9/9/2017 
\end{DoxyDate}


Definition at line \textbf{ 10} of file \textbf{ lifter.\+c}.



References \textbf{ M\+O\+T\+O\+R\+\_\+\+L\+I\+F\+T\+\_\+\+T\+O\+P\+\_\+\+L\+E\+FT}, \textbf{ M\+O\+T\+O\+R\+\_\+\+L\+I\+F\+T\+\_\+\+T\+O\+P\+\_\+\+R\+I\+G\+HT}, and \textbf{ set\+\_\+motor\+\_\+immediate()}.



Referenced by \textbf{ autonomous()}, \textbf{ lower\+\_\+lifter()}, \textbf{ raise\+\_\+lifter()}, and \textbf{ update\+\_\+lifter()}.


\begin{DoxyCode}
00010                                     \{
00011   set_motor_immediate(MOTOR_LIFT_TOP_RIGHT, -v);
00012   set_motor_immediate(MOTOR_LIFT_TOP_LEFT, -v);
00013 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{lifter_8c_a2cfc188f60f945c824dd7fe7b0b5f4e4_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{lifter_8c_a2cfc188f60f945c824dd7fe7b0b5f4e4_icgraph}
\end{center}
\end{figure}
\mbox{\label{lifter_8c_abddc7cb502e12fa277b627c90a45efb1}} 
\index{lifter.\+c@{lifter.\+c}!set\+\_\+lifter\+\_\+pos@{set\+\_\+lifter\+\_\+pos}}
\index{set\+\_\+lifter\+\_\+pos@{set\+\_\+lifter\+\_\+pos}!lifter.\+c@{lifter.\+c}}
\paragraph{set\+\_\+lifter\+\_\+pos()}
{\footnotesize\ttfamily void set\+\_\+lifter\+\_\+pos (\begin{DoxyParamCaption}\item[{int}]{pos }\end{DoxyParamCaption})}



Sets the lifter positions to the given value. 


\begin{DoxyParams}{Parameters}
{\em pos} & The height in inches \\
\hline
\end{DoxyParams}
\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
9/12/2017 
\end{DoxyDate}


Definition at line \textbf{ 22} of file \textbf{ lifter.\+c}.


\begin{DoxyCode}
00022                              \{
00023 
00024 \}
\end{DoxyCode}
\mbox{\label{lifter_8c_a59bb7413777ca16aba124aaedf95c79b}} 
\index{lifter.\+c@{lifter.\+c}!update\+\_\+lifter@{update\+\_\+lifter}}
\index{update\+\_\+lifter@{update\+\_\+lifter}!lifter.\+c@{lifter.\+c}}
\paragraph{update\+\_\+lifter()}
{\footnotesize\ttfamily void update\+\_\+lifter (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Updates the lifter in teleop. 

\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
9/9/2017 
\end{DoxyDate}


Definition at line \textbf{ 40} of file \textbf{ lifter.\+c}.



References \textbf{ get\+\_\+mode()}, \textbf{ get\+Lifter\+Ticks()}, \textbf{ joystick\+Get\+Digital()}, \textbf{ L\+I\+F\+T\+E\+R\+\_\+D}, \textbf{ L\+I\+F\+T\+E\+R\+\_\+\+D\+O\+WN}, \textbf{ L\+I\+F\+T\+E\+R\+\_\+\+D\+O\+W\+N\+\_\+\+P\+A\+R\+T\+N\+ER}, \textbf{ L\+I\+F\+T\+E\+R\+\_\+\+D\+R\+I\+V\+E\+R\+\_\+\+L\+O\+AD}, \textbf{ L\+I\+F\+T\+E\+R\+\_\+I}, \textbf{ L\+I\+F\+T\+E\+R\+\_\+P}, \textbf{ L\+I\+F\+T\+E\+R\+\_\+\+UP}, \textbf{ L\+I\+F\+T\+E\+R\+\_\+\+U\+P\+\_\+\+P\+A\+R\+T\+N\+ER}, \textbf{ lower\+\_\+lifter()}, \textbf{ M\+A\+I\+N\+\_\+\+C\+O\+N\+T\+R\+O\+L\+L\+E\+R\+\_\+\+M\+O\+DE}, \textbf{ P\+A\+R\+T\+N\+E\+R\+\_\+\+C\+O\+N\+T\+R\+O\+L\+L\+E\+R\+\_\+\+M\+O\+DE}, \textbf{ raise\+\_\+lifter()}, \textbf{ set\+\_\+lifter\+\_\+motors()}, and \textbf{ T\+H\+R\+E\+S\+H\+O\+LD}.



Referenced by \textbf{ operator\+Control()}.


\begin{DoxyCode}
00040                      \{
00041   \textcolor{comment}{//Establish variables to be used repeatedly}
00042   \textcolor{keyword}{static} \textcolor{keywordtype}{bool} changed = \textcolor{keyword}{true};
00043   \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} target = 0;
00044   \textcolor{keyword}{static} \textcolor{keywordtype}{bool} first\_run = \textcolor{keyword}{true};
00045   \textcolor{comment}{//Set the target to the current height for the first run}
00046   \textcolor{keywordflow}{if}(first\_run) \{
00047     target = getLifterTicks();
00048     first\_run = \textcolor{keyword}{false};
00049   \}
00050   \textcolor{comment}{//Establish the error as 0}
00051   \textcolor{keyword}{static} \textcolor{keywordtype}{int} last\_error = 0;
00052   \textcolor{keyword}{static} \textcolor{keywordtype}{long} \textcolor{keywordtype}{long} i = 0;
00053   \textcolor{comment}{//Check the buttons on the controller indicated by the controller mode}
00054   \textcolor{keywordflow}{if}((joystickGetDigital(LIFTER_UP) && get_mode() == MAIN_CONTROLLER_MODE)
00055    || (joystickGetDigital(LIFTER_UP_PARTNER) && get_mode() == 
      PARTNER_CONTROLLER_MODE))\{
00056     changed = \textcolor{keyword}{true};
00057     i = 0;
00058     \textcolor{comment}{//Change the target and start the motion}
00059     target = getLifterTicks() + 200;
00060     lower_lifter();
00061   \}
00062   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}((joystickGetDigital(LIFTER_DOWN) && get_mode() == MAIN_CONTROLLER_MODE)
00063    || (joystickGetDigital(LIFTER_DOWN_PARTNER) && get_mode() == 
      PARTNER_CONTROLLER_MODE)) \{
00064     changed = \textcolor{keyword}{true};
00065     i = 0;
00066     \textcolor{comment}{//Change the target and start the motion}
00067     target = getLifterTicks();
00068     raise_lifter();
00069   \}
00070   \textcolor{comment}{//Raise the lifter to the driver load height}
00071   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(joystickGetDigital(LIFTER_DRIVER_LOAD) && get_mode() == 
      MAIN_CONTROLLER_MODE)\{
00072     changed = \textcolor{keyword}{true};
00073     i = 0;
00074     \textcolor{keywordtype}{int} k = 0;
00075     \textcolor{keywordflow}{if}(getLifterTicks() < 1270)\{
00076       lower_lifter();
00077 
00078     \}
00079     \textcolor{keywordflow}{if}(getLifterTicks() > 1230)\{
00080       raise_lifter();
00081     \}
00082     target = 1250;
00083   \}
00084   \textcolor{comment}{//Change lifter motor values based upon the target}
00085   \textcolor{keywordflow}{else} \{
00086     \textcolor{comment}{//Don't if we are using the partner controller}
00087     \textcolor{keywordflow}{if}(get_mode() == PARTNER_CONTROLLER_MODE)\{
00088       set_lifter_motors(0);
00089       \textcolor{keywordflow}{return};
00090     \}
00091     \textcolor{comment}{//Define the proportion, derivative, and integral to be used in the motor speed}
00092     \textcolor{keywordtype}{int} p = getLifterTicks() - target;
00093     \textcolor{keywordtype}{int} d = p - last\_error;
00094     last\_error = p;
00095     i += p;
00096     \textcolor{keywordtype}{int} motor = LIFTER_P * p + LIFTER_D * d + LIFTER_I * i;
00097     \textcolor{comment}{//Avoid wasting battery if value is insignificant}
00098     \textcolor{keywordflow}{if} (motor < THRESHOLD) \{
00099         set_lifter_motors(0);
00100     \} \textcolor{keywordflow}{else} \{
00101         set_lifter_motors(motor);
00102     \}
00103 
00104   \}
00105 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{lifter_8c_a59bb7413777ca16aba124aaedf95c79b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=273pt]{lifter_8c_a59bb7413777ca16aba124aaedf95c79b_icgraph}
\end{center}
\end{figure}

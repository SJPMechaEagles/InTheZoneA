\section{auto.\+c}
\label{auto_8c_source}\index{src/auto.\+c@{src/auto.\+c}}

\begin{DoxyCode}
00001 
00013 \textcolor{preprocessor}{#include "main.h"}
00014 \textcolor{preprocessor}{#include "auto.h"}
00015 
00016 \textcolor{comment}{/*}
00017 \textcolor{comment}{ * Runs the user autonomous code. This function will be started in its own task with the default}
00018 \textcolor{comment}{ * priority and stack size whenever the robot is enabled via the Field Management System or the}
00019 \textcolor{comment}{ * VEX Competition Switch in the autonomous mode. If the robot is disabled or communications is}
00020 \textcolor{comment}{ * lost,  the autonomous task will be stopped by the kernel. Re-enabling the robot will restart}
00021 \textcolor{comment}{ * the task, not re-start it from where it left off.}
00022 \textcolor{comment}{ *}
00023 \textcolor{comment}{ * Code running in the autonomous task cannot access information from the VEX Joystick. However,}
00024 \textcolor{comment}{ * the autonomous function can be invoked from another task if a VEX Competition Switch is not}
00025 \textcolor{comment}{ * available, and it can access joystick information if called in this way.}
00026 \textcolor{comment}{ *}
00027 \textcolor{comment}{ * The autonomous task may exit, unlike operatorControl() which should never exit. If it does}
00028 \textcolor{comment}{ * so, the robot will await a switch to another mode or disable/enable cycle.}
00029 \textcolor{comment}{ */}
00030 \textcolor{keywordtype}{void} autonomous() \{
00031   init_slew();
00032 
00033   delay(10);
00034   printf(\textcolor{stringliteral}{"auto\(\backslash\)n"});
00035   \textcolor{comment}{//How far the left wheels have gone}
00036   \textcolor{keywordtype}{int} counts\_drive\_left;
00037   \textcolor{comment}{//How far the right wheels have gone}
00038   \textcolor{keywordtype}{int} counts\_drive\_right;
00039   \textcolor{comment}{//The average distance traveled forward}
00040   \textcolor{keywordtype}{int} counts\_drive;
00041 
00042   \textcolor{comment}{//Reset the integrated motor controllers}
00043   imeReset(MID_LEFT_DRIVE);
00044   imeReset(MID_RIGHT_DRIVE);
00045   \textcolor{comment}{//Set initial values for how far the wheels have gone}
00046   imeGet(MID_LEFT_DRIVE, &counts\_drive\_left);
00047   imeGet(MID_RIGHT_DRIVE, &counts\_drive\_right);
00048   counts\_drive = counts\_drive\_left + counts\_drive\_right;
00049   counts\_drive /= 2;
00050 
00051   \textcolor{comment}{//Grab pre-load cone}
00052   close_claw();
00053   delay(300);
00054 
00055   \textcolor{comment}{//Raise the lifter}
00056   \textcolor{keywordflow}{while}(analogRead(LIFTER) < GOAL_HEIGHT)\{
00057     set_lifter_motors(-127);
00058   \}
00059   set_lifter_motors(0);
00060   \textcolor{comment}{//Drive towards the goal}
00061   \textcolor{keywordflow}{while}(counts\_drive < 530)\{
00062     set_side_speed(BOTH, 127);
00063     \textcolor{comment}{//Restablish the distance traveled}
00064     imeGet(MID_LEFT_DRIVE, &counts\_drive\_left);
00065     imeGet(MID_RIGHT_DRIVE, &counts\_drive\_right);
00066     counts\_drive = counts\_drive\_left + counts\_drive\_right;
00067     counts\_drive /= 2;
00068   \}
00069   \textcolor{comment}{//Stop moving}
00070   set_side_speed(BOTH, 0);
00071   delay(1000);
00072 
00073   \textcolor{comment}{//Drop the cone on the goal}
00074   open_claw();
00075   delay(1000);
00076   deinitslew();
00077 \}
\end{DoxyCode}

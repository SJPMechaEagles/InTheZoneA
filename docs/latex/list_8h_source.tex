\subsection{list.\+h}
\label{list_8h_source}\index{include/list.\+h@{include/list.\+h}}

\begin{DoxyCode}
00001 
00002 \textcolor{comment}{//}
00003 \textcolor{comment}{// list.h}
00004 \textcolor{comment}{//}
00005 \textcolor{comment}{// Copyright (c) 2010 TJ Holowaychuk <tj@vision-media.ca>}
00006 \textcolor{comment}{//}
00007 
00008 \textcolor{preprocessor}{#ifndef LIST\_H}
00009 \textcolor{preprocessor}{#define LIST\_H}
00010 
00011 \textcolor{preprocessor}{#ifdef \_\_cplusplus}
00012 \textcolor{keyword}{extern} \textcolor{stringliteral}{"C"} \{
00013 \textcolor{preprocessor}{#endif}
00014 
00015 \textcolor{preprocessor}{#include <stdlib.h>}
00016 
00017 \textcolor{comment}{// Memory management macros}
00018 
00019 \textcolor{preprocessor}{#ifndef LIST\_MALLOC}
00020 \textcolor{preprocessor}{#define LIST\_MALLOC malloc}
00021 \textcolor{preprocessor}{#endif}
00022 
00023 \textcolor{preprocessor}{#ifndef LIST\_FREE}
00024 \textcolor{preprocessor}{#define LIST\_FREE free}
00025 \textcolor{preprocessor}{#endif}
00026 
00027 \textcolor{comment}{/*}
00028 \textcolor{comment}{ * list\_t iterator direction.}
00029 \textcolor{comment}{ */}
00030 
00031 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} \{
00032     LIST_HEAD
00033   , LIST_TAIL
00034 \} list_direction_t;
00035 
00036 \textcolor{comment}{/*}
00037 \textcolor{comment}{ * list\_t node struct.}
00038 \textcolor{comment}{ */}
00039 
00040 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }list_node \{
00041   \textcolor{keyword}{struct }list_node *prev;
00042   \textcolor{keyword}{struct }list_node *next;
00043   \textcolor{keywordtype}{void} *val;
00044 \} list_node_t;
00045 
00046 \textcolor{comment}{/*}
00047 \textcolor{comment}{ * list\_t struct.}
00048 \textcolor{comment}{ */}
00049 
00050 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{
00051   list_node_t *head;
00052   list_node_t *tail;
00053   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} len;
00054   void (*free)(\textcolor{keywordtype}{void} *val);
00055   int (*match)(\textcolor{keywordtype}{void} *a, \textcolor{keywordtype}{void} *b);
00056 \} list_t;
00057 
00058 \textcolor{comment}{/*}
00059 \textcolor{comment}{ * list\_t iterator struct.}
00060 \textcolor{comment}{ */}
00061 
00062 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{
00063   list_node_t *next;
00064   list\_direction\_t direction;
00065 \} list_iterator_t;
00066 
00067 \textcolor{comment}{// Node prototypes.}
00068 
00069 list_node_t *
00070 list_node_new(\textcolor{keywordtype}{void} *val);
00071 
00072 \textcolor{comment}{// list\_t prototypes.}
00073 
00074 list_t *
00075 list_new();
00076 
00077 list_node_t *
00078 list_rpush(list_t *\textcolor{keyword}{self}, list_node_t *node);
00079 
00080 list_node_t *
00081 list_lpush(list_t *\textcolor{keyword}{self}, list_node_t *node);
00082 
00083 list_node_t *
00084 list_find(list_t *\textcolor{keyword}{self}, \textcolor{keywordtype}{void} *val);
00085 
00086 list_node_t *
00087 list_at(list_t *\textcolor{keyword}{self}, \textcolor{keywordtype}{int} index);
00088 
00089 list_node_t *
00090 list_rpop(list_t *\textcolor{keyword}{self});
00091 
00092 list_node_t *
00093 list_lpop(list_t *\textcolor{keyword}{self});
00094 
00095 \textcolor{keywordtype}{void}
00096 list_remove(list_t *\textcolor{keyword}{self}, list_node_t *node);
00097 
00098 \textcolor{keywordtype}{void}
00099 list_destroy(list_t *\textcolor{keyword}{self});
00100 
00101 \textcolor{comment}{// list\_t iterator prototypes.}
00102 
00103 list_iterator_t *
00104 list_iterator_new(list_t *list, list\_direction\_t direction);
00105 
00106 list_iterator_t *
00107 list_iterator_new_from_node(list_node_t *node, list\_direction\_t direction);
00108 
00109 list_node_t *
00110 list_iterator_next(list_iterator_t *\textcolor{keyword}{self});
00111 
00112 \textcolor{keywordtype}{void}
00113 list_iterator_destroy(list_iterator_t *\textcolor{keyword}{self});
00114 
00115 \textcolor{preprocessor}{#ifdef \_\_cplusplus}
00116 \}
00117 \textcolor{preprocessor}{#endif}
00118 
00119 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* LIST\_H */}\textcolor{preprocessor}{}
\end{DoxyCode}

\section{lifter.\+c}
\label{lifter_8c_source}\index{src/lifter.\+c@{src/lifter.\+c}}

\begin{DoxyCode}
00001 \textcolor{preprocessor}{#include "lifter.h"}
00002 \textcolor{preprocessor}{#include "log.h"}
00003 
00011 \textcolor{keywordtype}{void} set_secondary_lifter_motors(\textcolor{keyword}{const} \textcolor{keywordtype}{int} v) \{
00012   set_motor_immediate(MOTOR_SECONDARY_LIFTER, v);
00013 \}
00014 
00022 \textcolor{keywordtype}{void} set_main_lifter_motors(\textcolor{keyword}{const} \textcolor{keywordtype}{int} v) \{
00023   set_motor_immediate(MOTOR_LIFT, v);
00024 \}
00025 
00033 \textcolor{keywordtype}{void} set_lifter_pos(\textcolor{keywordtype}{int} pos) \{
00034 
00035 \}
00036 
00043 \textcolor{keywordtype}{void} raise_main_lifter()\{
00044   set_main_lifter_motors(MAX_SPEED);
00045 \}
00046 
00053 \textcolor{keywordtype}{void} lower_main_lifter()\{
00054   set_main_lifter_motors(MIN_SPEED);
00055 \}
00056 
00063 \textcolor{keywordtype}{void} raise_secondary_lifter()\{
00064   set_secondary_lifter_motors(MAX_SPEED);
00065 \}
00066 
00073 \textcolor{keywordtype}{void} lower_secondary_lifter()\{
00074   set_secondary_lifter_motors(MIN_SPEED);
00075 \}
00076 
00083 \textcolor{keywordtype}{void} update_lifter() \{
00084   printf(\textcolor{stringliteral}{"%d\(\backslash\)n"}, analogRead(1));
00085   \textcolor{keywordflow}{if}(joystickGetDigital(LIFTER_DOWN) && analogRead(MAIN_LIFTER_POT) < 
      MAIN_LIFTER_MIN_HEIGHT) \{
00086     set_secondary_lifter_motors(MAX_SPEED);
00087     set_main_lifter_motors(MIN_SPEED);
00088   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(joystickGetDigital(LIFTER_DOWN) && analogRead(MAIN_LIFTER_POT) >= 
      MAIN_LIFTER_MIN_HEIGHT) \{
00089     set_secondary_lifter_motors(MAX_SPEED);
00090     set_main_lifter_motors(0);
00091   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(joystickGetDigital(LIFTER_UP) && analogRead(
      SECONDARY_LIFTER_POT_PORT) < SECONDARY_LIFTER_MAX_HEIGHT) \{
00092     set_secondary_lifter_motors(MIN_SPEED);
00093     set_main_lifter_motors(0);
00094   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(joystickGetDigital(LIFTER_UP) && analogRead(
      SECONDARY_LIFTER_POT_PORT) >= SECONDARY_LIFTER_MAX_HEIGHT) \{
00095     set_main_lifter_motors(MAX_SPEED);
00096     set_secondary_lifter_motors(MIN_SPEED);
00097   \} \textcolor{keywordflow}{else} \{
00098     set_secondary_lifter_motors(0);
00099     set_main_lifter_motors(0);
00100   \}
00101 \}
00102 
00111 \textcolor{keywordtype}{float} lifterPotentiometerToDegree(\textcolor{keywordtype}{int} x)\{
00112   \textcolor{keywordflow}{return} (x - INIT_ROTATION) / TICK_MAX * DEG_MAX;
00113 \}
00114 
00122 \textcolor{keywordtype}{int} getLifterTicks() \{
00123   \textcolor{keywordflow}{return} analogRead(LIFTER);
00124 \}
00125 
00133 \textcolor{keywordtype}{double} getLifterHeight() \{
00134   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ticks = getLifterTicks();
00135   \textcolor{keywordflow}{return} (-2 * pow(10, (-9 * ticks)) + 6 * (pow(10, (-6 * ticks * ticks))) + 0.0198 * ticks + 2.3033);
00136 \}
\end{DoxyCode}

\subsection{src/lcd.c File Reference}
\label{a00104}\index{src/lcd.\+c@{src/lcd.\+c}}
{\ttfamily \#include \char`\"{}lcd.\+h\char`\"{}}\newline
\subsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \textbf{ init\+\_\+main\+\_\+lcd} (F\+I\+LE $\ast$lcd)
\begin{DoxyCompactList}\small\item\em Initializes the lcd screen. \end{DoxyCompactList}\item 
static bool \textbf{ lcd\+\_\+assert} ()
\begin{DoxyCompactList}\small\item\em Asserts the lcd is initialized Works by checking is the File $\ast$lcd\+\_\+port is the default N\+U\+LL value and thus not set. \end{DoxyCompactList}\item 
void \textbf{ lcd\+\_\+clear} ()
\begin{DoxyCompactList}\small\item\em Clears the lcd. \end{DoxyCompactList}\item 
\textbf{ lcd\+\_\+buttons} \textbf{ lcd\+\_\+get\+\_\+pressed\+\_\+buttons} ()
\begin{DoxyCompactList}\small\item\em Returns the pressed buttons. \end{DoxyCompactList}\item 
void \textbf{ lcd\+\_\+print} (unsigned int line, const char $\ast$str)
\begin{DoxyCompactList}\small\item\em prints a string to a line on the lcd \end{DoxyCompactList}\item 
void \textbf{ lcd\+\_\+printf} (unsigned int line, const char $\ast$format\+\_\+str,...)
\begin{DoxyCompactList}\small\item\em prints a formated string to a line on the lcd. \end{DoxyCompactList}\item 
void \textbf{ lcd\+\_\+set\+\_\+backlight} (bool \textbf{ state})
\begin{DoxyCompactList}\small\item\em sets the backlight of the lcd \end{DoxyCompactList}\item 
void \textbf{ promt\+\_\+confirmation} (const char $\ast$confirm\+\_\+text)
\begin{DoxyCompactList}\small\item\em Prompts the user to confirm a string. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static F\+I\+LE $\ast$ \textbf{ lcd\+\_\+port} = N\+U\+LL
\begin{DoxyCompactList}\small\item\em The port of the initialized lcd. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Function Documentation}
\mbox{\label{a00104_a93b26f37d6b1687ad54c90feedfd29ca}} 
\index{lcd.\+c@{lcd.\+c}!init\+\_\+main\+\_\+lcd@{init\+\_\+main\+\_\+lcd}}
\index{init\+\_\+main\+\_\+lcd@{init\+\_\+main\+\_\+lcd}!lcd.\+c@{lcd.\+c}}
\paragraph{init\+\_\+main\+\_\+lcd()}
{\footnotesize\ttfamily void init\+\_\+main\+\_\+lcd (\begin{DoxyParamCaption}\item[{F\+I\+LE $\ast$}]{lcd }\end{DoxyParamCaption})}



Initializes the lcd screen. 

Also will initialize the lcd\+\_\+port var. Must be called before any lcd function can be called. 
\begin{DoxyParams}{Parameters}
{\em lcd} & the urart port of the lcd screen \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
uart1 

uart2 
\end{DoxySeeAlso}
\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
9/9/2017 
\end{DoxyDate}


Definition at line \textbf{ 62} of file \textbf{ lcd.\+c}.



References \textbf{ lcd\+\_\+clear()}, and \textbf{ lcd\+\_\+port}.



Referenced by \textbf{ initialize()}.


\begin{DoxyCode}
00062                               \{
00063   lcd_port = lcd;
00064   lcdInit(lcd);
00065   lcd_clear();
00066 \}
\end{DoxyCode}
\mbox{\label{a00104_aa03fd2deaeec8fc3f42a0975d587bad8}} 
\index{lcd.\+c@{lcd.\+c}!lcd\+\_\+assert@{lcd\+\_\+assert}}
\index{lcd\+\_\+assert@{lcd\+\_\+assert}!lcd.\+c@{lcd.\+c}}
\paragraph{lcd\+\_\+assert()}
{\footnotesize\ttfamily static bool lcd\+\_\+assert (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Asserts the lcd is initialized Works by checking is the File $\ast$lcd\+\_\+port is the default N\+U\+LL value and thus not set. 

\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
9/9/2017 
\end{DoxyDate}


Definition at line \textbf{ 13} of file \textbf{ lcd.\+c}.



References \textbf{ lcd\+\_\+port}.



Referenced by \textbf{ lcd\+\_\+clear()}, \textbf{ lcd\+\_\+get\+\_\+pressed\+\_\+buttons()}, \textbf{ lcd\+\_\+print()}, \textbf{ lcd\+\_\+printf()}, \textbf{ lcd\+\_\+set\+\_\+backlight()}, and \textbf{ promt\+\_\+confirmation()}.


\begin{DoxyCode}
00013                          \{
00014   \textcolor{keywordflow}{if} (lcd_port == NULL) \{
00015     printf(\textcolor{stringliteral}{"LCD NULL!"});
00016     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00017   \}
00018   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00019 \}
\end{DoxyCode}
\mbox{\label{a00104_a35c08b1fa742e650f4873939707b893b}} 
\index{lcd.\+c@{lcd.\+c}!lcd\+\_\+clear@{lcd\+\_\+clear}}
\index{lcd\+\_\+clear@{lcd\+\_\+clear}!lcd.\+c@{lcd.\+c}}
\paragraph{lcd\+\_\+clear()}
{\footnotesize\ttfamily void lcd\+\_\+clear (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Clears the lcd. 

\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
9/9/2017 
\end{DoxyDate}


Definition at line \textbf{ 47} of file \textbf{ lcd.\+c}.



References \textbf{ lcd\+\_\+assert()}, and \textbf{ lcd\+\_\+port}.



Referenced by \textbf{ display\+\_\+menu()}, and \textbf{ init\+\_\+main\+\_\+lcd()}.


\begin{DoxyCode}
00047                  \{
00048   lcd_assert();
00049   lcdClear(lcd_port);
00050 \}
\end{DoxyCode}
\mbox{\label{a00104_ac7b3225ccc82fcbe067ba9da934f010d}} 
\index{lcd.\+c@{lcd.\+c}!lcd\+\_\+get\+\_\+pressed\+\_\+buttons@{lcd\+\_\+get\+\_\+pressed\+\_\+buttons}}
\index{lcd\+\_\+get\+\_\+pressed\+\_\+buttons@{lcd\+\_\+get\+\_\+pressed\+\_\+buttons}!lcd.\+c@{lcd.\+c}}
\paragraph{lcd\+\_\+get\+\_\+pressed\+\_\+buttons()}
{\footnotesize\ttfamily \textbf{ lcd\+\_\+buttons} lcd\+\_\+get\+\_\+pressed\+\_\+buttons (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns the pressed buttons. 

\begin{DoxyReturn}{Returns}
a struct containing the states of all three buttons. 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
9/9/2017 
\end{DoxyDate}
\begin{DoxySeeAlso}{See also}
\doxyref{lcd\+\_\+buttons}{p.}{a00163} 
\end{DoxySeeAlso}


Definition at line \textbf{ 28} of file \textbf{ lcd.\+c}.



References \textbf{ lcd\+\_\+assert()}, \textbf{ lcd\+\_\+port}, \textbf{ lcd\+\_\+buttons\+::left}, \textbf{ lcd\+\_\+buttons\+::middle}, \textbf{ P\+R\+E\+S\+S\+ED}, \textbf{ R\+E\+L\+E\+A\+S\+ED}, and \textbf{ lcd\+\_\+buttons\+::right}.



Referenced by \textbf{ display\+\_\+menu()}, and \textbf{ promt\+\_\+confirmation()}.


\begin{DoxyCode}
00028                                       \{
00029   lcd_assert();
00030   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} btn\_binary = lcdReadButtons(lcd_port);
00031   \textcolor{keywordtype}{bool} left = btn\_binary & 0x1;   \textcolor{comment}{// 0001}
00032   \textcolor{keywordtype}{bool} middle = btn\_binary & 0x2; \textcolor{comment}{// 0010}
00033   \textcolor{keywordtype}{bool} right = btn\_binary & 0x4;  \textcolor{comment}{// 0100}
00034   lcd_buttons btns;
00035   btns.left = left ? PRESSED : RELEASED;
00036   btns.middle = middle ? PRESSED : RELEASED;
00037   btns.right = right ? PRESSED : RELEASED;
00038 
00039   \textcolor{keywordflow}{return} btns;
00040 \}
\end{DoxyCode}
\mbox{\label{a00104_adabd3f7cdda45119604b488caf22bba8}} 
\index{lcd.\+c@{lcd.\+c}!lcd\+\_\+print@{lcd\+\_\+print}}
\index{lcd\+\_\+print@{lcd\+\_\+print}!lcd.\+c@{lcd.\+c}}
\paragraph{lcd\+\_\+print()}
{\footnotesize\ttfamily void lcd\+\_\+print (\begin{DoxyParamCaption}\item[{unsigned int}]{line,  }\item[{const char $\ast$}]{str }\end{DoxyParamCaption})}



prints a string to a line on the lcd 


\begin{DoxyParams}{Parameters}
{\em line} & the line to print on \\
\hline
{\em str} & string to print \\
\hline
\end{DoxyParams}
\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
9/9/2017 
\end{DoxyDate}


Definition at line \textbf{ 75} of file \textbf{ lcd.\+c}.



References \textbf{ lcd\+\_\+assert()}, and \textbf{ lcd\+\_\+port}.



Referenced by \textbf{ display\+\_\+menu()}, and \textbf{ promt\+\_\+confirmation()}.


\begin{DoxyCode}
00075                                                    \{
00076   lcd_assert();
00077   lcdSetText(lcd_port, line, str);
00078 \}
\end{DoxyCode}
\mbox{\label{a00104_aa0d4ca88701dfecf98796e2028482b69}} 
\index{lcd.\+c@{lcd.\+c}!lcd\+\_\+printf@{lcd\+\_\+printf}}
\index{lcd\+\_\+printf@{lcd\+\_\+printf}!lcd.\+c@{lcd.\+c}}
\paragraph{lcd\+\_\+printf()}
{\footnotesize\ttfamily void lcd\+\_\+printf (\begin{DoxyParamCaption}\item[{unsigned int}]{line,  }\item[{const char $\ast$}]{format\+\_\+str,  }\item[{}]{... }\end{DoxyParamCaption})}



prints a formated string to a line on the lcd. 

Smilar to printf 
\begin{DoxyParams}{Parameters}
{\em line} & the line to print on \\
\hline
{\em format\+\_\+str} & format string string to print \\
\hline
\end{DoxyParams}
\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
9/9/2017 
\end{DoxyDate}


Definition at line \textbf{ 87} of file \textbf{ lcd.\+c}.



References \textbf{ lcd\+\_\+assert()}, and \textbf{ lcd\+\_\+port}.


\begin{DoxyCode}
00087                                                                 \{
00088   lcd_assert();
00089   lcdPrint(lcd_port, line, format\_str);
00090 \}
\end{DoxyCode}
\mbox{\label{a00104_a245902a4d48a6d9bd1ab308bf9b7e6b5}} 
\index{lcd.\+c@{lcd.\+c}!lcd\+\_\+set\+\_\+backlight@{lcd\+\_\+set\+\_\+backlight}}
\index{lcd\+\_\+set\+\_\+backlight@{lcd\+\_\+set\+\_\+backlight}!lcd.\+c@{lcd.\+c}}
\paragraph{lcd\+\_\+set\+\_\+backlight()}
{\footnotesize\ttfamily void lcd\+\_\+set\+\_\+backlight (\begin{DoxyParamCaption}\item[{bool}]{state }\end{DoxyParamCaption})}



sets the backlight of the lcd 


\begin{DoxyParams}{Parameters}
{\em state} & a boolean representing the state of the backlight. true = on, false = off. \\
\hline
\end{DoxyParams}
\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
9/9/2017 
\end{DoxyDate}


Definition at line \textbf{ 99} of file \textbf{ lcd.\+c}.



References \textbf{ lcd\+\_\+assert()}, and \textbf{ lcd\+\_\+port}.


\begin{DoxyCode}
00099                                    \{
00100   lcd_assert();
00101   lcdSetBacklight(lcd_port, state);
00102 \}
\end{DoxyCode}
\mbox{\label{a00104_a99f4683e1990edf624ab216bf327cba4}} 
\index{lcd.\+c@{lcd.\+c}!promt\+\_\+confirmation@{promt\+\_\+confirmation}}
\index{promt\+\_\+confirmation@{promt\+\_\+confirmation}!lcd.\+c@{lcd.\+c}}
\paragraph{promt\+\_\+confirmation()}
{\footnotesize\ttfamily void promt\+\_\+confirmation (\begin{DoxyParamCaption}\item[{const char $\ast$}]{confirm\+\_\+text }\end{DoxyParamCaption})}



Prompts the user to confirm a string. 

User must press middle button to confirm. Function is not thread safe and will stall a thread.


\begin{DoxyParams}{Parameters}
{\em confirm\+\_\+text} & the text for the user to confirm. \\
\hline
\end{DoxyParams}
\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
9/9/2017 
\end{DoxyDate}


Definition at line \textbf{ 113} of file \textbf{ lcd.\+c}.



References \textbf{ lcd\+\_\+assert()}, \textbf{ lcd\+\_\+get\+\_\+pressed\+\_\+buttons()}, \textbf{ lcd\+\_\+print()}, and \textbf{ P\+R\+E\+S\+S\+ED}.


\begin{DoxyCode}
00113                                                   \{
00114   lcd_assert();
00115   lcd_print(1, confirm\_text);
00116   \textcolor{keywordflow}{while} (lcd_get_pressed_buttons().middle != PRESSED) \{
00117     delay(200);
00118   \}
00119 \}
\end{DoxyCode}


\subsubsection{Variable Documentation}
\mbox{\label{a00104_a8d2a398462720032706d94d44a82a1f8}} 
\index{lcd.\+c@{lcd.\+c}!lcd\+\_\+port@{lcd\+\_\+port}}
\index{lcd\+\_\+port@{lcd\+\_\+port}!lcd.\+c@{lcd.\+c}}
\paragraph{lcd\+\_\+port}
{\footnotesize\ttfamily F\+I\+LE$\ast$ lcd\+\_\+port = N\+U\+LL\hspace{0.3cm}{\ttfamily [static]}}



The port of the initialized lcd. 



Definition at line \textbf{ 4} of file \textbf{ lcd.\+c}.



Referenced by \textbf{ init\+\_\+main\+\_\+lcd()}, \textbf{ lcd\+\_\+assert()}, \textbf{ lcd\+\_\+clear()}, \textbf{ lcd\+\_\+get\+\_\+pressed\+\_\+buttons()}, \textbf{ lcd\+\_\+print()}, \textbf{ lcd\+\_\+printf()}, and \textbf{ lcd\+\_\+set\+\_\+backlight()}.


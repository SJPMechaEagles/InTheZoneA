\section{log.\+c}
\label{log_8c_source}\index{src/log.\+c@{src/log.\+c}}

\begin{DoxyCode}
00001 \textcolor{preprocessor}{#include "log.h"}
00002 
00003 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} log_level = INFO;
00004 \textcolor{keyword}{static} FILE *log_lcd = NULL;
00005 
00014 \textcolor{keywordtype}{void} init_error(\textcolor{keywordtype}{bool} use\_lcd, FILE *lcd) \{
00015   \textcolor{keywordflow}{if}(use\_lcd) \{
00016     lcdInit(lcd);
00017     log_lcd = lcd;
00018   \}
00019 \}
00020 
00021 \textcolor{keyword}{static} \textcolor{keywordtype}{void} log_info(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *s, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *mess) \{
00022   printf(\textcolor{stringliteral}{"[%s]: %s\(\backslash\)n"}, s, mess);
00023   lcdSetBacklight(log_lcd, \textcolor{keyword}{true});
00024   lcdClear(log_lcd);
00025   lcdPrint(log_lcd, TOP_ROW, s);
00026   lcdPrint(log_lcd, BOTTOM_ROW, mess);
00027 \}
00028 
00037 \textcolor{keywordtype}{void} error(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *error\_message) \{
00038   \textcolor{keywordflow}{if}(log_level>NONE)
00039     log_info(\textcolor{stringliteral}{"ERROR"}, error\_message);
00040 \}
00041 
00050 \textcolor{keywordtype}{void} warning(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *warning\_message) \{
00051   \textcolor{keywordflow}{if}(log_level>WARNING)
00052     log_info(\textcolor{stringliteral}{"WARNING"}, warning\_message);
00053 \}
00054 
00062 \textcolor{keywordtype}{void} info(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *info\_message) \{
00063   \textcolor{keywordflow}{if}(log_level>ERROR) \{
00064     printf(\textcolor{stringliteral}{"[INFO]: %s\(\backslash\)n"}, info\_message);
00065   \}
00066 \}
00067 
00075 \textcolor{keywordtype}{void} debug(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *debug\_message) \{
00076   \textcolor{keywordflow}{if}(log_level>ERROR) \{
00077     printf(\textcolor{stringliteral}{"[INFO]: %s\(\backslash\)n"}, debug\_message);
00078   \}
00079 \}
\end{DoxyCode}

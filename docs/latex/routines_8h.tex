\subsection{include/routines.h File Reference}
\label{routines_8h}\index{include/routines.\+h@{include/routines.\+h}}
\subsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \textbf{ routine\+\_\+t}
\begin{DoxyCompactList}\small\item\em Routine system that allows mapping buttons to actions. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \textbf{ routine\+\_\+t} \textbf{ routine\+\_\+t}
\begin{DoxyCompactList}\small\item\em Routine system that allows mapping buttons to actions. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \textbf{ deinit\+\_\+routines} ()
\begin{DoxyCompactList}\small\item\em Stops the routine system. \end{DoxyCompactList}\item 
void \textbf{ init\+\_\+routine} ()
\begin{DoxyCompactList}\small\item\em Starts the routine system. \end{DoxyCompactList}\item 
void \textbf{ register\+\_\+routine} (void($\ast$routine)(void $\ast$), \textbf{ button\+\_\+t} on\+\_\+buttons, \textbf{ button\+\_\+t} $\ast$prohibited\+\_\+buttons)
\begin{DoxyCompactList}\small\item\em Registers a routine for the system to use. \end{DoxyCompactList}\item 
void \textbf{ routine\+\_\+task} ()
\begin{DoxyCompactList}\small\item\em Task that manages routines. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Typedef Documentation}
\mbox{\label{routines_8h_ac59bb3af7d2d19d489ef5f76c778bfed}} 
\index{routines.\+h@{routines.\+h}!routine\+\_\+t@{routine\+\_\+t}}
\index{routine\+\_\+t@{routine\+\_\+t}!routines.\+h@{routines.\+h}}
\paragraph{routine\+\_\+t}
{\footnotesize\ttfamily typedef struct \textbf{ routine\+\_\+t}  \textbf{ routine\+\_\+t}}



Routine system that allows mapping buttons to actions. 

\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
1/8/17 Struct representing a routine 
\end{DoxyDate}


\subsubsection{Function Documentation}
\mbox{\label{routines_8h_ad908adbc884189372f72f882ec62d71d}} 
\index{routines.\+h@{routines.\+h}!deinit\+\_\+routines@{deinit\+\_\+routines}}
\index{deinit\+\_\+routines@{deinit\+\_\+routines}!routines.\+h@{routines.\+h}}
\paragraph{deinit\+\_\+routines()}
{\footnotesize\ttfamily void deinit\+\_\+routines (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Stops the routine system. 

\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}


Definition at line \textbf{ 47} of file \textbf{ routines.\+c}.



References \textbf{ list\+\_\+destroy()}.


\begin{DoxyCode}
00047 \{ list_destroy(routine_list); \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=264pt]{routines_8h_ad908adbc884189372f72f882ec62d71d_cgraph}
\end{center}
\end{figure}
\mbox{\label{routines_8h_ab873e24fcc59a2bf7844618b664a5d26}} 
\index{routines.\+h@{routines.\+h}!init\+\_\+routine@{init\+\_\+routine}}
\index{init\+\_\+routine@{init\+\_\+routine}!routines.\+h@{routines.\+h}}
\paragraph{init\+\_\+routine()}
{\footnotesize\ttfamily void init\+\_\+routine (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Starts the routine system. 

\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}


Definition at line \textbf{ 38} of file \textbf{ routines.\+c}.



References \textbf{ list\+\_\+new()}, \textbf{ routine\+\_\+task()}, \textbf{ routine\+\_\+task\+\_\+var}, and \textbf{ task\+Run\+Loop()}.



Referenced by \textbf{ operator\+Control()}.


\begin{DoxyCode}
00038                     \{
00039   routine_list = list_new();
00040   routine_task_var = taskRunLoop(routine_task, 20);
00041 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{routines_8h_ab873e24fcc59a2bf7844618b664a5d26_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=266pt]{routines_8h_ab873e24fcc59a2bf7844618b664a5d26_icgraph}
\end{center}
\end{figure}
\mbox{\label{routines_8h_a9486ebd51b8c3d966619cf4617e6a930}} 
\index{routines.\+h@{routines.\+h}!register\+\_\+routine@{register\+\_\+routine}}
\index{register\+\_\+routine@{register\+\_\+routine}!routines.\+h@{routines.\+h}}
\paragraph{register\+\_\+routine()}
{\footnotesize\ttfamily void register\+\_\+routine (\begin{DoxyParamCaption}\item[{void($\ast$)(void $\ast$)}]{routine,  }\item[{\textbf{ button\+\_\+t}}]{on\+\_\+buttons,  }\item[{\textbf{ button\+\_\+t} $\ast$}]{prohibited\+\_\+buttons }\end{DoxyParamCaption})}



Registers a routine for the system to use. 


\begin{DoxyParams}{Parameters}
{\em routine} & The routine to register \\
\hline
{\em on\+\_\+buttons} & the trigger button \\
\hline
{\em prohibited\+\_\+buttons} & the buttons it blocks\\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Todo}
\item[\textbf{ Todo}]\end{DoxyRefDesc}



\begin{DoxyParams}{Parameters}
{\em routine} & The routine to register \\
\hline
{\em on\+\_\+buttons} & the trigger button \\
\hline
{\em prohibited\+\_\+buttons} & the buttons it blocks\\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Todo}
\item[\textbf{ Todo}]\end{DoxyRefDesc}
\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}


Definition at line \textbf{ 56} of file \textbf{ routines.\+c}.



References \textbf{ routine\+\_\+t\+::blocked\+\_\+buttons}, \textbf{ list\+\_\+node\+\_\+new()}, \textbf{ list\+\_\+rpush()}, \textbf{ routine\+\_\+t\+::on\+\_\+button}, \textbf{ routine\+\_\+t\+::routine}, and \textbf{ list\+\_\+node\+::val}.



Referenced by \textbf{ operator\+Control()}.


\begin{DoxyCode}
00057                                                     \{
00058   \textcolor{keyword}{struct }routine_t *r = (\textcolor{keyword}{struct }routine_t *)malloc(\textcolor{keyword}{sizeof}(routine_t));
00059   r->blocked_buttons = prohibited\_buttons;
00060   r->routine = routine;
00061   r->on_button = on\_buttons;
00062   list_node_t *node = list_node_new(r);
00063   node->val = r;
00064   list_rpush(routine_list, node);
00065 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=281pt]{routines_8h_a9486ebd51b8c3d966619cf4617e6a930_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=287pt]{routines_8h_a9486ebd51b8c3d966619cf4617e6a930_icgraph}
\end{center}
\end{figure}
\mbox{\label{routines_8h_a230cdcefb410a429fb6baba1f88fc9ba}} 
\index{routines.\+h@{routines.\+h}!routine\+\_\+task@{routine\+\_\+task}}
\index{routine\+\_\+task@{routine\+\_\+task}!routines.\+h@{routines.\+h}}
\paragraph{routine\+\_\+task()}
{\footnotesize\ttfamily void routine\+\_\+task (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Task that manages routines. 

\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}


Definition at line \textbf{ 14} of file \textbf{ routines.\+c}.



References \textbf{ button\+Is\+New\+Press()}, \textbf{ error()}, \textbf{ L\+I\+S\+T\+\_\+\+H\+E\+AD}, \textbf{ list\+\_\+iterator\+\_\+destroy()}, \textbf{ list\+\_\+iterator\+\_\+new()}, \textbf{ list\+\_\+iterator\+\_\+next()}, \textbf{ routine\+\_\+t\+::on\+\_\+button}, \textbf{ routine\+\_\+t\+::routine}, \textbf{ task\+Create()}, and \textbf{ list\+\_\+node\+::val}.



Referenced by \textbf{ init\+\_\+routine()}.


\begin{DoxyCode}
00014                     \{
00015   list_node_t *node;
00016   list_iterator_t *it = list_iterator_new(routine_list, LIST_HEAD);
00017   \textcolor{keywordflow}{if} (it != NULL) \{
00018     \textcolor{keywordflow}{while} (node = list_iterator_next(it)) \{
00019       \textcolor{keywordflow}{if} (node->val != NULL) \{
00020         routine_t *routine = (routine_t *)(node->val);
00021         \textcolor{keywordflow}{if} (buttonIsNewPress(routine->on_button)) \{
00022           TaskHandle task =
00023               taskCreate(routine->routine, TASK\_DEFAULT\_STACK\_SIZE, NULL,
00024                          TASK\_PRIORITY\_DEFAULT);
00025         \}
00026       \}
00027     \}
00028   \} \textcolor{keywordflow}{else} \{
00029     error(\textcolor{stringliteral}{"List iterator was null"});
00030   \}
00031   list_iterator_destroy(it);
00032 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{routines_8h_a230cdcefb410a429fb6baba1f88fc9ba_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{routines_8h_a230cdcefb410a429fb6baba1f88fc9ba_icgraph}
\end{center}
\end{figure}

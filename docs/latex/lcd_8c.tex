\hypertarget{lcd_8c}{}\section{src/lcd.c File Reference}
\label{lcd_8c}\index{src/lcd.\+c@{src/lcd.\+c}}
{\ttfamily \#include \char`\"{}lcd.\+h\char`\"{}}\newline
Include dependency graph for lcd.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=133pt]{lcd_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{lcd_8c_a93b26f37d6b1687ad54c90feedfd29ca}{init\+\_\+main\+\_\+lcd} (F\+I\+LE $\ast$lcd)
\begin{DoxyCompactList}\small\item\em Initializes the lcd screen. Also will initialize the lcd\+\_\+port var. Must be called before any lcd function can be called. \end{DoxyCompactList}\item 
static void \hyperlink{lcd_8c_a07f04b524b5ded617d5f193db05ba0ad}{lcd\+\_\+assert} ()
\begin{DoxyCompactList}\small\item\em Asserts the lcd is initialized Works by checking is the File $\ast$lcd\+\_\+port is the default N\+U\+LL value and thus not set. \end{DoxyCompactList}\item 
void \hyperlink{lcd_8c_a35c08b1fa742e650f4873939707b893b}{lcd\+\_\+clear} ()
\begin{DoxyCompactList}\small\item\em Clears the lcd. \end{DoxyCompactList}\item 
\hyperlink{structlcd__buttons}{lcd\+\_\+buttons} \hyperlink{lcd_8c_ac7b3225ccc82fcbe067ba9da934f010d}{lcd\+\_\+get\+\_\+pressed\+\_\+buttons} ()
\begin{DoxyCompactList}\small\item\em Returns the pressed buttons. \end{DoxyCompactList}\item 
void \hyperlink{lcd_8c_adabd3f7cdda45119604b488caf22bba8}{lcd\+\_\+print} (unsigned int line, const char $\ast$str)
\begin{DoxyCompactList}\small\item\em prints a string to a line on the lcd \end{DoxyCompactList}\item 
void \hyperlink{lcd_8c_aa0d4ca88701dfecf98796e2028482b69}{lcd\+\_\+printf} (unsigned int line, const char $\ast$format\+\_\+str,...)
\begin{DoxyCompactList}\small\item\em prints a formated string to a line on the lcd. Smilar to printf \end{DoxyCompactList}\item 
void \hyperlink{lcd_8c_a245902a4d48a6d9bd1ab308bf9b7e6b5}{lcd\+\_\+set\+\_\+backlight} (bool state)
\begin{DoxyCompactList}\small\item\em sets the backlight of the lcd \end{DoxyCompactList}\item 
void \hyperlink{lcd_8c_a99f4683e1990edf624ab216bf327cba4}{promt\+\_\+confirmation} (const char $\ast$confirm\+\_\+text)
\begin{DoxyCompactList}\small\item\em Prompts the user to confirm a string. User must press middle button to confirm. Function is not thread safe and will stall a thread. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static F\+I\+LE $\ast$ \hyperlink{lcd_8c_a8d2a398462720032706d94d44a82a1f8}{lcd\+\_\+port} = N\+U\+LL
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\mbox{\Hypertarget{lcd_8c_a93b26f37d6b1687ad54c90feedfd29ca}\label{lcd_8c_a93b26f37d6b1687ad54c90feedfd29ca}} 
\index{lcd.\+c@{lcd.\+c}!init\+\_\+main\+\_\+lcd@{init\+\_\+main\+\_\+lcd}}
\index{init\+\_\+main\+\_\+lcd@{init\+\_\+main\+\_\+lcd}!lcd.\+c@{lcd.\+c}}
\subsubsection{\texorpdfstring{init\+\_\+main\+\_\+lcd()}{init\_main\_lcd()}}
{\footnotesize\ttfamily void init\+\_\+main\+\_\+lcd (\begin{DoxyParamCaption}\item[{F\+I\+LE $\ast$}]{lcd }\end{DoxyParamCaption})}



Initializes the lcd screen. Also will initialize the lcd\+\_\+port var. Must be called before any lcd function can be called. 


\begin{DoxyParams}{Parameters}
{\em lcd} & the urart port of the lcd screen \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
uart1 

uart2 
\end{DoxySeeAlso}
\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
9/9/2017 
\end{DoxyDate}


Definition at line 39 of file lcd.\+c.



References lcd\+\_\+port.



Referenced by initialize().


\begin{DoxyCode}
39                               \{
40   lcdInit(lcd);
41   \hyperlink{lcd_8c_a8d2a398462720032706d94d44a82a1f8}{lcd\_port} = lcd;
42 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=242pt]{lcd_8c_a93b26f37d6b1687ad54c90feedfd29ca_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{lcd_8c_a07f04b524b5ded617d5f193db05ba0ad}\label{lcd_8c_a07f04b524b5ded617d5f193db05ba0ad}} 
\index{lcd.\+c@{lcd.\+c}!lcd\+\_\+assert@{lcd\+\_\+assert}}
\index{lcd\+\_\+assert@{lcd\+\_\+assert}!lcd.\+c@{lcd.\+c}}
\subsubsection{\texorpdfstring{lcd\+\_\+assert()}{lcd\_assert()}}
{\footnotesize\ttfamily static void lcd\+\_\+assert (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Asserts the lcd is initialized Works by checking is the File $\ast$lcd\+\_\+port is the default N\+U\+LL value and thus not set. 

\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
9/9/2017 
\end{DoxyDate}


Definition at line 13 of file lcd.\+c.



References lcd\+\_\+port.



Referenced by lcd\+\_\+clear(), lcd\+\_\+get\+\_\+pressed\+\_\+buttons(), lcd\+\_\+print(), lcd\+\_\+printf(), lcd\+\_\+set\+\_\+backlight(), and promt\+\_\+confirmation().


\begin{DoxyCode}
13                           \{
14   \textcolor{keywordflow}{if}(\hyperlink{lcd_8c_a8d2a398462720032706d94d44a82a1f8}{lcd\_port} != NULL) \{
15     printf(\textcolor{stringliteral}{"LCD NULL!"});
16     exit(1);
17   \}
18 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{lcd_8c_a07f04b524b5ded617d5f193db05ba0ad_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{lcd_8c_a35c08b1fa742e650f4873939707b893b}\label{lcd_8c_a35c08b1fa742e650f4873939707b893b}} 
\index{lcd.\+c@{lcd.\+c}!lcd\+\_\+clear@{lcd\+\_\+clear}}
\index{lcd\+\_\+clear@{lcd\+\_\+clear}!lcd.\+c@{lcd.\+c}}
\subsubsection{\texorpdfstring{lcd\+\_\+clear()}{lcd\_clear()}}
{\footnotesize\ttfamily void lcd\+\_\+clear (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Clears the lcd. 

\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
9/9/2017 
\end{DoxyDate}


Definition at line 34 of file lcd.\+c.



References lcd\+\_\+assert(), and lcd\+\_\+port.


\begin{DoxyCode}
34                  \{
35   \hyperlink{lcd_8c_a07f04b524b5ded617d5f193db05ba0ad}{lcd\_assert}();
36   lcdClear(\hyperlink{lcd_8c_a8d2a398462720032706d94d44a82a1f8}{lcd\_port});
37 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=234pt]{lcd_8c_a35c08b1fa742e650f4873939707b893b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{lcd_8c_ac7b3225ccc82fcbe067ba9da934f010d}\label{lcd_8c_ac7b3225ccc82fcbe067ba9da934f010d}} 
\index{lcd.\+c@{lcd.\+c}!lcd\+\_\+get\+\_\+pressed\+\_\+buttons@{lcd\+\_\+get\+\_\+pressed\+\_\+buttons}}
\index{lcd\+\_\+get\+\_\+pressed\+\_\+buttons@{lcd\+\_\+get\+\_\+pressed\+\_\+buttons}!lcd.\+c@{lcd.\+c}}
\subsubsection{\texorpdfstring{lcd\+\_\+get\+\_\+pressed\+\_\+buttons()}{lcd\_get\_pressed\_buttons()}}
{\footnotesize\ttfamily \hyperlink{structlcd__buttons}{lcd\+\_\+buttons} lcd\+\_\+get\+\_\+pressed\+\_\+buttons (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns the pressed buttons. 

\begin{DoxyReturn}{Returns}
a struct containing the states of all three buttons. 
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
9/9/2017 
\end{DoxyDate}
\begin{DoxySeeAlso}{See also}
\hyperlink{structlcd__buttons}{lcd\+\_\+buttons} 
\end{DoxySeeAlso}


Definition at line 20 of file lcd.\+c.



References lcd\+\_\+assert(), lcd\+\_\+port, lcd\+\_\+buttons\+::left, lcd\+\_\+buttons\+::middle, P\+R\+E\+S\+S\+ED, R\+E\+L\+E\+A\+S\+ED, and lcd\+\_\+buttons\+::right.



Referenced by display\+\_\+menu(), and promt\+\_\+confirmation().


\begin{DoxyCode}
20                                      \{
21   \hyperlink{lcd_8c_a07f04b524b5ded617d5f193db05ba0ad}{lcd\_assert}();
22   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} btn\_binary = lcdReadButtons(\hyperlink{lcd_8c_a8d2a398462720032706d94d44a82a1f8}{lcd\_port});
23   \textcolor{keywordtype}{bool} left = btn\_binary & 0x1;
24   \textcolor{keywordtype}{bool} middle = btn\_binary & 0x2;
25   \textcolor{keywordtype}{bool} right = btn\_binary & 0x4;
26   \hyperlink{structlcd__buttons}{lcd\_buttons} btns;
27   btns.\hyperlink{structlcd__buttons_ae385efb5ec794acf5f11027f46c6c039}{left} = left ? \hyperlink{lcd_8h_a0bbab92f5605e16a4162b6c5ccc2c29ba5ef9a100ac8b4b8d6dec477c377b7901}{PRESSED} : \hyperlink{lcd_8h_a0bbab92f5605e16a4162b6c5ccc2c29baa38d18fe73a7fc82c112b6917d0b5cd0}{RELEASED};
28   btns.\hyperlink{structlcd__buttons_a293342810ac56f73979b08f144d6e6b9}{middle} = middle ? \hyperlink{lcd_8h_a0bbab92f5605e16a4162b6c5ccc2c29ba5ef9a100ac8b4b8d6dec477c377b7901}{PRESSED} : \hyperlink{lcd_8h_a0bbab92f5605e16a4162b6c5ccc2c29baa38d18fe73a7fc82c112b6917d0b5cd0}{RELEASED};
29   btns.\hyperlink{structlcd__buttons_a2437d744e09ca1bb91ab4ca53ef77198}{right} = right ? \hyperlink{lcd_8h_a0bbab92f5605e16a4162b6c5ccc2c29ba5ef9a100ac8b4b8d6dec477c377b7901}{PRESSED} : \hyperlink{lcd_8h_a0bbab92f5605e16a4162b6c5ccc2c29baa38d18fe73a7fc82c112b6917d0b5cd0}{RELEASED};
30 
31   \textcolor{keywordflow}{return} btns;
32 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=305pt]{lcd_8c_ac7b3225ccc82fcbe067ba9da934f010d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{lcd_8c_ac7b3225ccc82fcbe067ba9da934f010d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{lcd_8c_adabd3f7cdda45119604b488caf22bba8}\label{lcd_8c_adabd3f7cdda45119604b488caf22bba8}} 
\index{lcd.\+c@{lcd.\+c}!lcd\+\_\+print@{lcd\+\_\+print}}
\index{lcd\+\_\+print@{lcd\+\_\+print}!lcd.\+c@{lcd.\+c}}
\subsubsection{\texorpdfstring{lcd\+\_\+print()}{lcd\_print()}}
{\footnotesize\ttfamily void lcd\+\_\+print (\begin{DoxyParamCaption}\item[{unsigned int}]{line,  }\item[{const char $\ast$}]{str }\end{DoxyParamCaption})}



prints a string to a line on the lcd 


\begin{DoxyParams}{Parameters}
{\em line} & the line to print on \\
\hline
{\em str} & string to print \\
\hline
\end{DoxyParams}
\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
9/9/2017 
\end{DoxyDate}


Definition at line 44 of file lcd.\+c.



References lcd\+\_\+assert(), and lcd\+\_\+port.



Referenced by display\+\_\+menu(), and promt\+\_\+confirmation().


\begin{DoxyCode}
44                                                     \{
45   \hyperlink{lcd_8c_a07f04b524b5ded617d5f193db05ba0ad}{lcd\_assert}();
46   lcdSetText(\hyperlink{lcd_8c_a8d2a398462720032706d94d44a82a1f8}{lcd\_port}, line, str);
47 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=231pt]{lcd_8c_adabd3f7cdda45119604b488caf22bba8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{lcd_8c_adabd3f7cdda45119604b488caf22bba8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{lcd_8c_aa0d4ca88701dfecf98796e2028482b69}\label{lcd_8c_aa0d4ca88701dfecf98796e2028482b69}} 
\index{lcd.\+c@{lcd.\+c}!lcd\+\_\+printf@{lcd\+\_\+printf}}
\index{lcd\+\_\+printf@{lcd\+\_\+printf}!lcd.\+c@{lcd.\+c}}
\subsubsection{\texorpdfstring{lcd\+\_\+printf()}{lcd\_printf()}}
{\footnotesize\ttfamily void lcd\+\_\+printf (\begin{DoxyParamCaption}\item[{unsigned int}]{line,  }\item[{const char $\ast$}]{format\+\_\+str,  }\item[{}]{... }\end{DoxyParamCaption})}



prints a formated string to a line on the lcd. Smilar to printf 


\begin{DoxyParams}{Parameters}
{\em line} & the line to print on \\
\hline
{\em format\+\_\+str} & format string string to print \\
\hline
\end{DoxyParams}
\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
9/9/2017 
\end{DoxyDate}


Definition at line 49 of file lcd.\+c.



References lcd\+\_\+assert(), and lcd\+\_\+port.


\begin{DoxyCode}
49                                                                  \{
50   \hyperlink{lcd_8c_a07f04b524b5ded617d5f193db05ba0ad}{lcd\_assert}();
51   lcdPrint(\hyperlink{lcd_8c_a8d2a398462720032706d94d44a82a1f8}{lcd\_port}, line, format\_str);
52 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=234pt]{lcd_8c_aa0d4ca88701dfecf98796e2028482b69_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{lcd_8c_a245902a4d48a6d9bd1ab308bf9b7e6b5}\label{lcd_8c_a245902a4d48a6d9bd1ab308bf9b7e6b5}} 
\index{lcd.\+c@{lcd.\+c}!lcd\+\_\+set\+\_\+backlight@{lcd\+\_\+set\+\_\+backlight}}
\index{lcd\+\_\+set\+\_\+backlight@{lcd\+\_\+set\+\_\+backlight}!lcd.\+c@{lcd.\+c}}
\subsubsection{\texorpdfstring{lcd\+\_\+set\+\_\+backlight()}{lcd\_set\_backlight()}}
{\footnotesize\ttfamily void lcd\+\_\+set\+\_\+backlight (\begin{DoxyParamCaption}\item[{bool}]{state }\end{DoxyParamCaption})}



sets the backlight of the lcd 


\begin{DoxyParams}{Parameters}
{\em state} & a boolean representing the state of the backlight. true = on, false = off. \\
\hline
\end{DoxyParams}
\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
9/9/2017 
\end{DoxyDate}


Definition at line 54 of file lcd.\+c.



References lcd\+\_\+assert(), and lcd\+\_\+port.


\begin{DoxyCode}
54                                     \{
55   \hyperlink{lcd_8c_a07f04b524b5ded617d5f193db05ba0ad}{lcd\_assert}();
56   lcdSetBacklight(\hyperlink{lcd_8c_a8d2a398462720032706d94d44a82a1f8}{lcd\_port}, state);
57 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=270pt]{lcd_8c_a245902a4d48a6d9bd1ab308bf9b7e6b5_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{lcd_8c_a99f4683e1990edf624ab216bf327cba4}\label{lcd_8c_a99f4683e1990edf624ab216bf327cba4}} 
\index{lcd.\+c@{lcd.\+c}!promt\+\_\+confirmation@{promt\+\_\+confirmation}}
\index{promt\+\_\+confirmation@{promt\+\_\+confirmation}!lcd.\+c@{lcd.\+c}}
\subsubsection{\texorpdfstring{promt\+\_\+confirmation()}{promt\_confirmation()}}
{\footnotesize\ttfamily void promt\+\_\+confirmation (\begin{DoxyParamCaption}\item[{const char $\ast$}]{confirm\+\_\+text }\end{DoxyParamCaption})}



Prompts the user to confirm a string. User must press middle button to confirm. Function is not thread safe and will stall a thread. 


\begin{DoxyParams}{Parameters}
{\em confirm\+\_\+text} & the text for the user to confirm. \\
\hline
\end{DoxyParams}
\begin{DoxyAuthor}{Author}
Chris Jerrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
9/9/2017 
\end{DoxyDate}


Definition at line 59 of file lcd.\+c.



References lcd\+\_\+assert(), lcd\+\_\+get\+\_\+pressed\+\_\+buttons(), lcd\+\_\+print(), and P\+R\+E\+S\+S\+ED.



Referenced by initialize().


\begin{DoxyCode}
59                                                   \{
60   \hyperlink{lcd_8c_a07f04b524b5ded617d5f193db05ba0ad}{lcd\_assert}();
61   \hyperlink{lcd_8c_adabd3f7cdda45119604b488caf22bba8}{lcd\_print}(1, confirm\_text);
62   \textcolor{keywordflow}{while}(\hyperlink{lcd_8c_ac7b3225ccc82fcbe067ba9da934f010d}{lcd\_get\_pressed\_buttons}().middle != \hyperlink{lcd_8h_a0bbab92f5605e16a4162b6c5ccc2c29ba5ef9a100ac8b4b8d6dec477c377b7901}{PRESSED})\{
63     delay(200);
64   \}
65 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{lcd_8c_a99f4683e1990edf624ab216bf327cba4_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=269pt]{lcd_8c_a99f4683e1990edf624ab216bf327cba4_icgraph}
\end{center}
\end{figure}


\subsection{Variable Documentation}
\mbox{\Hypertarget{lcd_8c_a8d2a398462720032706d94d44a82a1f8}\label{lcd_8c_a8d2a398462720032706d94d44a82a1f8}} 
\index{lcd.\+c@{lcd.\+c}!lcd\+\_\+port@{lcd\+\_\+port}}
\index{lcd\+\_\+port@{lcd\+\_\+port}!lcd.\+c@{lcd.\+c}}
\subsubsection{\texorpdfstring{lcd\+\_\+port}{lcd\_port}}
{\footnotesize\ttfamily F\+I\+LE$\ast$ lcd\+\_\+port = N\+U\+LL\hspace{0.3cm}{\ttfamily [static]}}

The port of the initialized lcd 

Definition at line 4 of file lcd.\+c.



Referenced by init\+\_\+main\+\_\+lcd(), lcd\+\_\+assert(), lcd\+\_\+clear(), lcd\+\_\+get\+\_\+pressed\+\_\+buttons(), lcd\+\_\+print(), lcd\+\_\+printf(), and lcd\+\_\+set\+\_\+backlight().

